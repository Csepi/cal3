# ============================================
# Cal3 Docker Environment Configuration
# ============================================
# Copy this file to .env and fill in your values
# For production: cp docker/.env.example .env
# For development: Values below have reasonable defaults

# ============================================
# Database Configuration
# ============================================
DB_TYPE=postgres
DB_HOST=postgres
DB_PORT=5432
DB_USERNAME=cal3_user
DB_PASSWORD=changeme_strong_password_here
DB_NAME=cal3_production

# Development defaults (used in docker-compose.dev.yml)
# DB_USERNAME=postgres
# DB_PASSWORD=postgres
# DB_NAME=cal3_dev

# ============================================
# Application Configuration
# ============================================
NODE_ENV=production
PORT=8081
FRONTEND_PORT=8080
FRONTEND_URL=http://localhost:8080
API_URL=http://localhost:8081

# ============================================
# Security
# ============================================
# IMPORTANT: Generate with: openssl rand -base64 32
# Minimum 32 characters required
JWT_SECRET=your-super-secret-jwt-key-min-32-chars-change-this

# ============================================
# Google OAuth (Optional)
# ============================================
# Get credentials from: https://console.cloud.google.com/
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_CALLBACK_URL=http://localhost:8081/api/auth/google/callback

# ============================================
# Microsoft OAuth (Optional)
# ============================================
# Get credentials from: https://portal.azure.com/
MICROSOFT_CLIENT_ID=your-microsoft-client-id
MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret
MICROSOFT_CALLBACK_URL=http://localhost:8081/api/auth/microsoft/callback
MICROSOFT_TENANT_ID=common

# ============================================
# Docker Resource Limits (Production)
# ============================================
POSTGRES_CPU_LIMIT=2
POSTGRES_MEMORY_LIMIT=2G
BACKEND_CPU_LIMIT=2
BACKEND_MEMORY_LIMIT=1G
FRONTEND_CPU_LIMIT=1
FRONTEND_MEMORY_LIMIT=512M

# ============================================
# Notes
# ============================================
# 1. Never commit .env file to version control
# 2. Use strong passwords (16+ characters)
# 3. Rotate JWT secret every 90 days in production
# 4. For production deployment:
#    - Change all default passwords
#    - Use HTTPS URLs for callbacks
#    - Set proper FRONTEND_URL and API_URL
# 5. For Azure deployment:
#    - Update FRONTEND_URL to your Azure URL
#    - Update OAuth callback URLs accordingly
# 6. For Synology deployment:
#    - Update ports if needed (avoid conflicts)
#    - Set FRONTEND_URL to your NAS IP/domain
