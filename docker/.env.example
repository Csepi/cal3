# -------------------------------------------------
# Docker Compose Environment (example)
# Copy to docker/.env.local for the local profile.
# Optional: create docker/.env.portainer for the portainer profile.
# -------------------------------------------------

# Application URLs
# BASE_URL and the *_PORT values determine how runtime-config.js is generated.
BASE_URL=http://localhost
FRONTEND_PORT=80
FRONTEND_HOST_PORT=8080
BACKEND_PORT=8081
BACKEND_HOST_PORT=8081

# Backend URLs (optional overrides)
# Leave empty to let the build script derive URLs from BASE_URL/ports.
FRONTEND_URL=
BACKEND_URL=
API_URL=
SECURITY_ALLOWED_ORIGINS=http://localhost:8080

# Database configuration
DB_TYPE=postgres
DB_HOST=db
DB_PORT=5432
DB_HOST_PORT=5432
DB_NAME=cal3
DB_USERNAME=cal3_admin
DB_PASSWORD=change-me
DB_SSL=false
DB_SSL_REJECT_UNAUTHORIZED=false
DB_SYNCHRONIZE=false

# Authentication & rate limiting
JWT_SECRET=replace-this-secret
JWT_ISSUER=cal3-backend
JWT_AUDIENCE=cal3-users
RATE_LIMIT_WINDOW_SEC=60
RATE_LIMIT_MAX_REQUESTS=120
LOGIN_MAX_ATTEMPTS=5
LOGIN_BLOCK_SECONDS=900
IDEMPOTENCY_DEFAULT_TTL_SEC=3600
LOG_RETENTION_DAYS_DEFAULT=30

# Feature flags
ENABLE_OAUTH=true
ENABLE_CALENDAR_SYNC=true
ENABLE_RESERVATIONS=true
ENABLE_AUTOMATION=true
ENABLE_AGENT_INTEGRATIONS=true

# OAuth placeholders
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_CALLBACK_URL=http://localhost:8081/api/auth/google/callback
GOOGLE_CALENDAR_SYNC_CALLBACK_URL=http://localhost:8081/api/calendar-sync/callback/google
MICROSOFT_TENANT_ID=common
MICROSOFT_CLIENT_ID=
MICROSOFT_CLIENT_SECRET=
MICROSOFT_CALLBACK_URL=http://localhost:8081/api/auth/microsoft/callback
MICROSOFT_CALENDAR_SYNC_CALLBACK_URL=http://localhost:8081/api/calendar-sync/callback/microsoft

# Logging & misc
NODE_ENV=production
LOG_JSON=false
