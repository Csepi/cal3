# Azure target (Container Apps + Azure Database for PostgreSQL)
# Copy to docker/.env.azure.backend and fill secret values.

AZ_SUBSCRIPTION_ID=
AZ_RESOURCE_GROUP=
AZ_CONTAINERAPP_NAME=
AZ_ACR_NAME=
AZ_ACR_IMAGE_REPO=cal3-backend

# Optional: manual tag override for image versioning
IMAGE_TAG=

NODE_ENV=production

# Public URLs
FRONTEND_URL=https://app.primecal.eu
BACKEND_URL=https://api.primecal.eu
API_URL=https://api.primecal.eu
BASE_URL=https://api.primecal.eu
SECURITY_ALLOWED_ORIGINS=https://app.primecal.eu

# Container and app ports
PORT=8081
BACKEND_PORT=8081
FRONTEND_PORT=443
FRONTEND_HOST_PORT=443
BACKEND_HOST_PORT=443

# Database
DB_HOST=primecal-db-new.postgres.database.azure.com
DB_PORT=5432
DB_USERNAME=adminuser
DB_PASSWORD=<set-in-local-file-only>
DB_NAME=cal3
DB_SSL=false
DB_SSL_REJECT_UNAUTHORIZED=false
DB_CONNECTION_TIMEOUT=60000
DB_IDLE_TIMEOUT=60000

# Startup behavior
WAIT_FOR_DB=true
WAIT_FOR_DB_MAX_ATTEMPTS=60
WAIT_FOR_DB_INTERVAL=2

# Security
JWT_SECRET=<set-in-local-file-only>
